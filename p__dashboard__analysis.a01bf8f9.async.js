(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"14J3":function(a,e,t){"use strict";t("cIOH"),t("1GLa")},BMrR:function(a,e,t){"use strict";var n=t("qrJ5");e["a"]=n["a"]},GZ0F:function(a,e,t){"use strict";var n=t("q1tI"),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},r=s,l=t("6VBw"),i=function(a,e){return n["createElement"](l["a"],Object.assign({},a,{ref:e,icon:r}))};i.displayName="EllipsisOutlined";e["a"]=n["forwardRef"](i)},UXoT:function(a,e,t){a.exports={iconGroup:"antd-pro-pages-dashboard-analysis-style-iconGroup",anticon:"antd-pro-pages-dashboard-analysis-style-anticon",rankingList:"antd-pro-pages-dashboard-analysis-style-rankingList",rankingItemNumber:"antd-pro-pages-dashboard-analysis-style-rankingItemNumber",active:"antd-pro-pages-dashboard-analysis-style-active",rankingItemTitle:"antd-pro-pages-dashboard-analysis-style-rankingItemTitle",salesExtra:"antd-pro-pages-dashboard-analysis-style-salesExtra",currentDate:"antd-pro-pages-dashboard-analysis-style-currentDate",salesCard:"antd-pro-pages-dashboard-analysis-style-salesCard",salesBar:"antd-pro-pages-dashboard-analysis-style-salesBar",salesRank:"antd-pro-pages-dashboard-analysis-style-salesRank",salesCardExtra:"antd-pro-pages-dashboard-analysis-style-salesCardExtra",salesTypeRadio:"antd-pro-pages-dashboard-analysis-style-salesTypeRadio",offlineCard:"antd-pro-pages-dashboard-analysis-style-offlineCard",trendText:"antd-pro-pages-dashboard-analysis-style-trendText",rankingTitle:"antd-pro-pages-dashboard-analysis-style-rankingTitle",salesExtraWrap:"antd-pro-pages-dashboard-analysis-style-salesExtraWrap"}},jCWc:function(a,e,t){"use strict";t("cIOH"),t("1GLa")},jXcd:function(a,e,t){"use strict";t.r(e);t("14J3");var n=t("BMrR"),s=(t("jCWc"),t("kPKH")),r=(t("qVdP"),t("jsC+")),l=(t("lUTK"),t("BvKs")),i=t("1OyB"),o=t("vuIU"),c=t("Ji7U"),d=t("LK+K"),u=t("GZ0F"),p=t("q1tI"),h=t.n(p),y=t("Hx5s"),g=t("9kvl"),m=(t("T2oS"),t("W9HT")),f=function(){return h.a.createElement("div",{style:{paddingTop:100,textAlign:"center"}},h.a.createElement(m["a"],{size:"large"}))},b=t("wd/R"),v=t.n(b);function k(a){return 1*a<10?"0".concat(a):a}function T(a){var e=new Date,t=864e5;if("today"===a)return e.setHours(0),e.setMinutes(0),e.setSeconds(0),[v()(e),v()(e.getTime()+(t-1e3))];if("week"===a){var n=e.getDay();e.setHours(0),e.setMinutes(0),e.setSeconds(0),0===n?n=6:n-=1;var s=e.getTime()-n*t;return[v()(s),v()(s+(7*t-1e3))]}var r=e.getFullYear();if("month"===a){var l=e.getMonth(),i=v()(e).add(1,"months"),o=i.year(),c=i.month();return[v()("".concat(r,"-").concat(k(l+1),"-01 00:00:00")),v()(v()("".concat(o,"-").concat(k(c+1),"-01 00:00:00")).valueOf()-1e3)]}return[v()("".concat(r,"-01-01 00:00:00")),v()("".concat(r,"-12-31 23:59:59"))]}var E=t("UXoT"),D=t.n(E),C=h.a.lazy((function(){return Promise.all([t.e(2),t.e(3),t.e(4),t.e(13),t.e(57)]).then(t.bind(null,"CqmX"))})),P=h.a.lazy((function(){return Promise.all([t.e(2),t.e(3),t.e(4),t.e(6),t.e(55)]).then(t.bind(null,"qpEo"))})),S=h.a.lazy((function(){return Promise.all([t.e(2),t.e(3),t.e(4),t.e(5),t.e(53)]).then(t.bind(null,"ceP7"))})),x=h.a.lazy((function(){return Promise.all([t.e(2),t.e(3),t.e(4),t.e(56),t.e(54)]).then(t.bind(null,"8gNO"))})),w=h.a.lazy((function(){return Promise.all([t.e(2),t.e(3),t.e(4),t.e(13),t.e(58)]).then(t.bind(null,"vvVX"))})),A=function(a){Object(c["a"])(t,a);var e=Object(d["a"])(t);function t(){var a;Object(i["a"])(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return a=e.call.apply(e,[this].concat(s)),a.state={salesType:"all",currentTabKey:"",rangePickerValue:T("year")},a.reqRef=0,a.timeoutId=0,a.handleChangeSalesType=function(e){a.setState({salesType:e.target.value})},a.handleTabChange=function(e){a.setState({currentTabKey:e})},a.handleRangePickerChange=function(e){var t=a.props.dispatch;a.setState({rangePickerValue:e}),t({type:"dashboardAndanalysis/fetchSalesData"})},a.selectDate=function(e){var t=a.props.dispatch;a.setState({rangePickerValue:T(e)}),t({type:"dashboardAndanalysis/fetchSalesData"})},a.isActive=function(e){var t=a.state.rangePickerValue;if(!t)return"";var n=T(e);return n&&t[0]&&t[1]&&t[0].isSame(n[0],"day")&&t[1].isSame(n[1],"day")?D.a.currentDate:""},a}return Object(o["a"])(t,[{key:"componentDidMount",value:function(){var a=this.props.dispatch;this.reqRef=requestAnimationFrame((function(){a({type:"dashboardAndanalysis/fetch"})}))}},{key:"componentWillUnmount",value:function(){var a=this.props.dispatch;a({type:"dashboardAndanalysis/clear"}),cancelAnimationFrame(this.reqRef),clearTimeout(this.timeoutId)}},{key:"render",value:function(){var a,e=this.state,t=e.rangePickerValue,i=e.salesType,o=e.currentTabKey,c=this.props,d=c.dashboardAndanalysis,g=c.loading,m=d.visitData,b=d.visitData2,v=d.salesData,k=d.searchData,T=d.offlineData,E=d.offlineChartData,A=d.salesTypeData,R=d.salesTypeDataOnline,O=d.salesTypeDataOffline;a="all"===i?A:"online"===i?R:O;var I=h.a.createElement(l["a"],null,h.a.createElement(l["a"].Item,null,"\u64cd\u4f5c\u4e00"),h.a.createElement(l["a"].Item,null,"\u64cd\u4f5c\u4e8c")),j=h.a.createElement("span",{className:D.a.iconGroup},h.a.createElement(r["a"],{overlay:I,placement:"bottomRight"},h.a.createElement(u["a"],null))),q=o||T[0]&&T[0].name;return h.a.createElement(y["b"],null,h.a.createElement(h.a.Fragment,null,h.a.createElement(p["Suspense"],{fallback:h.a.createElement(f,null)},h.a.createElement(C,{loading:g,visitData:m})),h.a.createElement(p["Suspense"],{fallback:null},h.a.createElement(P,{rangePickerValue:t,salesData:v,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:g,selectDate:this.selectDate})),h.a.createElement(n["a"],{gutter:24,style:{marginTop:24}},h.a.createElement(s["a"],{xl:12,lg:24,md:24,sm:24,xs:24},h.a.createElement(p["Suspense"],{fallback:null},h.a.createElement(S,{loading:g,visitData2:b,searchData:k,dropdownGroup:j}))),h.a.createElement(s["a"],{xl:12,lg:24,md:24,sm:24,xs:24},h.a.createElement(p["Suspense"],{fallback:null},h.a.createElement(x,{dropdownGroup:j,salesType:i,loading:g,salesPieData:a,handleChangeSalesType:this.handleChangeSalesType})))),h.a.createElement(p["Suspense"],{fallback:null},h.a.createElement(w,{activeKey:q,loading:g,offlineData:T,offlineChartData:E,handleTabChange:this.handleTabChange}))))}}]),t}(p["Component"]);e["default"]=Object(g["c"])((function(a){var e=a.dashboardAndanalysis,t=a.loading;return{dashboardAndanalysis:e,loading:t.effects["dashboardAndanalysis/fetch"]}}))(A)},kPKH:function(a,e,t){"use strict";var n=t("/kpp");e["a"]=n["a"]}}]);